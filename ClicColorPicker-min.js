function isColor(e){return isHex(e)||isRGB(e)||isRGBA(e)}function isHex(e){return e.match(_hexRegex)}function isRGB(e){return e.match(_rgbRegex)}function isRGBA(e){return e.match(_rgbaRegex)}function StringToObject(e){if(isHex(e)){return ParseHex(e)}else{return ParseRGB(e)}}function ParseHex(e){try{var t,n,r;t=parseInt(e.substring(1,3),16);n=parseInt(e.substring(3,5),16);r=parseInt(e.substring(5,7),16);return{r:t,g:n,b:r,a:1}}catch(i){console.log("Error parsing hex string: "+e)}}function ParseRGB(e){try{var t=e.substring(4);var n=0;var r=["","","",""];var i="";while(t.length>0){if(t[0]=="."||!isNaN(parseInt(t[0]))){i+=t[0].toString()}else if(t[0]==","||t[0]==")"){r[n]=i;n++;i=""}t=t.substring(1)}var s={r:parseFloat(r[0]),g:parseFloat(r[1]),b:parseFloat(r[2]),a:parseFloat(r[3])};if(isNaN(s.a)){s.a=1}return s}catch(o){console.log("Error parsing rgb:"+e)}}function CloneColor(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}function HSLToRGB(e,t,n){e=e/360;t=t/100;n=n/100;var r,i,s;if(t==0){r=i=s=n}else{function o(e,t,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return e+(t-e)*6*n;if(n<1/2)return t;if(n<2/3)return e+(t-e)*(2/3-n)*6;return e}var u=n<.5?n*(1+t):n+t-n*t;var a=2*n-u;r=o(a,u,e+1/3);i=o(a,u,e);s=o(a,u,e-1/3)}return{r:Math.round(r*255),g:Math.round(i*255),b:Math.round(s*255),a:1}}function RGBToHSL(e){var t=e.r/255;var n=e.g/255;var r=e.b/255;var i=Math.max(t,n,r),s=Math.min(t,n,r);var o,u,a=(i+s)/2;if(i==s){o=u=0}else{var f=i-s;u=a>.5?f/(2-i-s):f/(i+s);switch(i){case t:o=(n-r)/f+(n<r?6:0);break;case n:o=(r-t)/f+2;break;case r:o=(t-n)/f+4;break}o/=6}return{h:o*360,s:u*100,l:a*100}}function ObjectToRGBAString(e){var t="rgba("+e.r.toString(10);t+=", "+e.g.toString(10);t+=", "+e.b.toString(10);if(isNaN(parseInt(e.a))){t+=", 1"}else{t+=", "+e.a.toString(10)}t+=")";return t}function ObjectToRGBString(e){var t="rgb("+e.r.toString(10);t+=", "+e.g.toString(10);t+=", "+e.b.toString(10);t+=")";return t}function GetLinearGradientCss(e,t,n){if(t.length==0){return[]}var r=new Array(4);var i="";for(var s=0;s<t.length;s++){i+=",";i+=ObjectToRGBAString(t[s].color);i+=" ";i+=t[s].percent.toString();i+="%"}if(n){r[0]="-moz-radial-gradient(center, ellipse cover "+i+")";r[1]="-webkit-radial-gradient(center, ellipse cover "+i+")";r[2]="-ms-radial-gradient(center, ellipse cover "+i+")";r[3]="radial-gradient(ellipse at center "+i+")"}else{r[0]="-moz-linear-gradient("+(e-45).toString()+"deg "+i+")";r[1]="-webkit-linear-gradient("+(e-45).toString()+"deg "+i+")";r[2]="-ms-linear-gradient("+(e-45).toString()+"deg "+i+")";r[3]="linear-gradient("+e.toString()+"deg "+i+")"}return r}function ApplyGradientBackground(e,t,n,r){if(!t){t=0}var i=n.slice();i.sort(function(e,t){return e.percent-t.percent});var s=GetLinearGradientCss(t,i,r);for(var o=0;o<s.length;o++){e.css("background",s[o]+", url('images/transparent.png') repeat")}}(function(e,t){function n(t,n){var i,s,o,u=t.nodeName.toLowerCase();return"area"===u?(i=t.parentNode,s=i.name,t.href&&s&&"map"===i.nodeName.toLowerCase()?(o=e("img[usemap=#"+s+"]")[0],!!o&&r(o)):!1):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var i=0,s=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,s=e(this[0]);s.length&&s[0]!==document;){if(r=s.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(s.css("zIndex"),10),!isNaN(i)&&0!==i))return i;s=s.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(s,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var s="Width"===r?["Left","Right"]:["Top","Bottom"],o=r.toLowerCase(),u={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?u["inner"+r].call(this):this.each(function(){e(this).css(o,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?u["outer"+r].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;i.length>r;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})})(jQuery);(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(n,r,i){var s,o,u,a,f={},l=n.split(".")[0];n=n.split(".")[1],s=l+"-"+n,i||(i=r,r=e.Widget),e.expr[":"][s.toLowerCase()]=function(t){return!!e.data(t,s)},e[l]=e[l]||{},o=e[l][n],u=e[l][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new u(e,n)},e.extend(u,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),a=new r,a.options=e.widget.extend({},a.options),e.each(i,function(n,i){return e.isFunction(i)?(f[n]=function(){var e=function(){return r.prototype[n].apply(this,arguments)},t=function(e){return r.prototype[n].apply(this,e)};return function(){var n,r=this._super,s=this._superApply;return this._super=e,this._superApply=t,n=i.apply(this,arguments),this._super=r,this._superApply=s,n}}(),t):(f[n]=i,t)}),u.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix:n},f,{constructor:u,namespace:l,widgetName:n,widgetFullName:s}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,u,n._proto)}),delete o._childConstructors):r._childConstructors.push(u),e.widget.bridge(n,u)},e.widget.extend=function(n){for(var i,o,u=r.call(arguments,1),a=0,f=u.length;f>a;a++)for(i in u[a])o=u[a][i],u[a].hasOwnProperty(i)&&o!==t&&(n[i]=e.isPlainObject(o)?e.isPlainObject(n[i])?e.widget.extend({},n[i],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;e.fn[n]=function(u){var f="string"==typeof u,l=r.call(arguments,1),c=this;return u=!f&&l.length?e.widget.extend.apply(null,[u].concat(l)):u,f?this.each(function(){var r,i=e.data(this,o);return i?e.isFunction(i[u])&&"_"!==u.charAt(0)?(r=i[u].apply(i,l),r!==i&&r!==t?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):t):e.error("no such method '"+u+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+u+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(u||{})._init():e.data(this,o,new i(u,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,s,o,u=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(u={},i=n.split("."),n=i.shift(),i.length){for(s=u[n]=e.widget.extend({},this.options[n]),o=0;i.length-1>o;o++)s[i[o]]=s[i[o]]||{},s=s[i[o]];if(n=i.pop(),r===t)return s[n]===t?null:s[n];s[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];u[n]=r}return this._setOptions(u),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,r,i){var s,o=this;"boolean"!=typeof n&&(i=r,r=n,n=!1),i?(r=s=e(r),this.bindings=this.bindings.add(r)):(i=r,r=this.element,s=this.widget()),e.each(i,function(i,u){function f(){return n||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof u?o[u]:u).apply(o,arguments):t}"string"!=typeof u&&(f.guid=u.guid=u.guid||f.guid||e.guid++);var l=i.match(/^(\w+)\s*(.*)$/),c=l[1]+o.eventNamespace,h=l[2];h?s.delegate(h,c,f):r.bind(c,f)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){"string"==typeof i&&(i={effect:i});var o,u=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})})(jQuery);(function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,s="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return i&&!s&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery);(function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;return i.containment?"window"===i.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===i.containment?(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):i.containment.constructor===Array?(this.containment=i.containment,undefined):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],r&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n),undefined):(this.containment=null,undefined)},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var n,r,i,s,o=this.options,u="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=t.pageX,f=t.pageY;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var o=!1,u=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==u&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(u.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),i!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){var r,i,s,o,u,a,f,l,c,h,p=e(this).data("ui-draggable"),d=p.options,v=d.snapTolerance,m=n.offset.left,g=m+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--)u=p.snapElements[c].left,a=u+p.snapElements[c].width,f=p.snapElements[c].top,l=f+p.snapElements[c].height,u-v>g||m>a+v||f-v>b||y>l+v||!e.contains(p.snapElements[c].item.ownerDocument,p.snapElements[c].item)?(p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=!1):("inner"!==d.snapMode&&(r=v>=Math.abs(f-b),i=v>=Math.abs(l-y),s=v>=Math.abs(u-g),o=v>=Math.abs(a-m),r&&(n.position.top=p._convertPositionTo("relative",{top:f-p.helperProportions.height,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u-p.helperProportions.width}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left)),h=r||i||s||o,"outer"!==d.snapMode&&(r=v>=Math.abs(f-y),i=v>=Math.abs(l-b),s=v>=Math.abs(u-m),o=v>=Math.abs(a-g),r&&(n.position.top=p._convertPositionTo("relative",{top:f,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(r||i||s||o||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=r||i||s||o||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});r.length&&(t=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})})(jQuery);$.widget("ui.anglepicker",$.ui.mouse,{widgetEventPrefix:"angle",_init:function(){this._mouseInit();this.pointer=$('<div class="ui-anglepicker-pointer"></div>');this.pointer.append('<div class="ui-anglepicker-dot"></div>');this.pointer.append('<div class="ui-anglepicker-line"></div>');this.element.addClass("ui-anglepicker");this.element.append(this.pointer);this.setDegrees(this.options.value)},_propagate:function(e,t){this._trigger(e,t,this.ui())},_create:function(){},destroy:function(){this._mouseDestroy();this.element.removeClass("ui-anglepicker");this.pointer.remove()},_mouseStart:function(e){var t=this.element.offset();this.width=this.element.width();this.height=this.element.height();this.startOffset={x:t.left+this.width/2,y:t.top+this.height/2};this.element.addClass("ui-anglepicker-dragging");this.setDegreesFromEvent(e);this._propagate("start",e)},_mouseStop:function(e){this.element.removeClass("ui-anglepicker-dragging");this._propagate("stop",e)},_mouseDrag:function(e){this.setDegreesFromEvent(e);this._propagate("change",e)},_setOption:function(e,t){this._super(e,t)},ui:function(){return{element:this.element,value:this.options.value}},value:function(e){if(!arguments.length){return this.options.value}var t=this.options.value;this.setDegrees(e);if(t!==this.options.value){this._propagate("change")}return this},drawRotation:function(){var e=this.options.clockwise?this.options.value:-this.options.value;var t="rotate("+ -e+"deg)";this.pointer.css({"-webkit-transform":t,"-moz-transform":t,"-ms-transform":t,"-o-transform":t,transform:t})},setDegrees:function(e){this.options.value=this.clamp(e);this.drawRotation()},clamp:function(e){if(typeof e!=="number"){e=0}var t=this.options.min,n=t+360;while(e<t){e+=360}while(e>n){e-=360}return e},setDegreesFromEvent:function(e){var t=this.startOffset.y-e.pageY;t=this.options.clockwise?t:-t;var n=e.pageX-this.startOffset.x,r=Math.atan(t/n),i=Math.round(r*(180/Math.PI),10);if(e.shiftKey){i=this.roundToMultiple(i,this.options.shiftSnap)}else{i=this.roundToMultiple(i,this.options.snap)}if(n<0&&t>=0){i+=180}else if(t<0&&n<0){i-=180}this.setDegrees(i)},roundToMultiple:function(e,t){var n=e/t,r=Math.floor(n),i=n-r;return i>.5?(r+1)*t:r*t},options:{distance:1,delay:1,snap:1,min:0,shiftSnap:15,value:90,clockwise:true}});(function(e){e.fn.noUiSlider=function(t,n){function r(e,t,n){var r=t.data("setup"),i=r.handles;t=r.settings;r=r.pos;e=0>e?0:100<e?100:e;2==t.handles&&(n.is(":first-child")?(n=parseFloat(i[1][0].style[r])-t.margin,e=e>n?n:e):(n=parseFloat(i[0][0].style[r])+t.margin,e=e<n?n:e));t.step&&(n=o.from(t.range,t.step),e=Math.round(e/n)*n);return e}function i(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(t){return["x","y"]}}var s=window.navigator.msPointerEnabled?2:"ontouchend"in document?3:1;window.debug&&console&&console.log(s);var o={to:function(e,t){t=0>e[0]?t+Math.abs(e[0]):t-e[0];return 100*t/this._length(e)},from:function(e,t){return 100*t/this._length(e)},is:function(e,t){return t*this._length(e)/100+e[0]},_length:function(e){return e[0]>e[1]?e[0]-e[1]:e[1]-e[0]}},u={handles:2,serialization:{to:["",""],resolution:.01}};methods={create:function(){return this.each(function(){var n=e.extend(u,t),a=e(this).data("_isnS_",!0),l=[],c,h,p="",d=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v=(n.serialization.resolution=n.serialization.resolution||.01).toString().split("."),g=1==v[0]?0:v[1].length;n.start=d(n.start)?[n.start,0]:n.start;e.each(n,function(e,t){d(t)?n[e]=parseFloat(t):"object"==typeof t&&d(t[0])&&(t[0]=parseFloat(t[0]),d(t[1])&&(t[1]=parseFloat(t[1])));var r=!1;t="undefined"==typeof t?"x":t;switch(e){case"range":case"start":r=2!=t.length||!d(t[0])||!d(t[1]);break;case"handles":r=1>t||2<t||!d(t);break;case"connect":r="lower"!=t&&"upper"!=t&&"boolean"!=typeof t;break;case"orientation":r="vertical"!=t&&"horizontal"!=t;break;case"margin":case"step":r="undefined"!=typeof t&&!d(t);break;case"serialization":r="object"!=typeof t||!d(t.resolution)||"object"==typeof t.to&&t.to.length<n.handles;break;case"slide":r="function"!=typeof t}r&&console&&console.error("Bad input for "+e+" on slider:",a)});n.margin=n.margin?o.from(n.range,n.margin):0;if(n.serialization.to instanceof jQuery||"string"==typeof n.serialization.to||!1===n.serialization.to)n.serialization.to=[n.serialization.to];"vertical"==n.orientation?(p+="vertical",c="top",h=1):(p+="horizontal",c="left",h=0);p+=n.connect?"lower"==n.connect?" connect lower":" connect":"";a.addClass(p);for(p=0;p<n.handles;p++){l[p]=a.append("<a><div></div></a>").children(":last");v=o.to(n.range,n.start[p]);l[p].css(c,v+"%");100==v&&l[p].is(":first-child")&&l[p].css("z-index",2);var v=(1===s?"mousedown":2===s?"MSPointerDown":"touchstart")+".noUiSliderX",y=(1===s?"mousemove":2===s?"MSPointerMove":"touchmove")+".noUiSlider",b=(1===s?"mouseup":2===s?"MSPointerUp":"touchend")+".noUiSlider";l[p].find("div").on(v,function(t){e("body").bind("selectstart.noUiSlider",function(){return!1});if(!a.hasClass("disabled")){e("body").addClass("TOUCH");var s=e(this).addClass("active").parent(),u=s.add(e(document)).add("body"),p=parseFloat(s[0].style[c]),d=i(t),v=d,w=!1;e(document).on(y,function(e){e.preventDefault();e=i(e);if("x"!=e[0]){e[0]-=d[0];e[1]-=d[1];var t=[v[0]!=e[0],v[1]!=e[1]],u=p+100*e[h]/(h?a.height():a.width()),u=r(u,a,s);if(t[h]&&u!=w){s.css(c,u+"%").data("input").val(o.is(n.range,u).toFixed(g));var t=n.slide,f=a.data("_n",!0);"function"===typeof t&&t.call(f,void 0);w=u;s.css("z-index",2==l.length&&100==u&&s.is(":first-child")?2:1)}v=e}}).on(b,function(){u.off(".noUiSlider");e("body").removeClass("TOUCH");a.find(".active").removeClass("active").end().data("_n")&&a.data("_n",!1).change()})}}).on("click",function(e){e.stopPropagation()})}if(1==s)a.on("click",function(e){if(!a.hasClass("disabled")){var t=i(e);e=100*(t[h]-a.offset()[c])/(h?a.height():a.width());t=1<l.length?t[h]<(l[0].offset()[c]+l[1].offset()[c])/2?l[0]:l[1]:l[0];e=r(e,a,t);t.css(c,e+"%").data("input").val(o.is(n.range,e).toFixed(g));e=n.slide;"function"===typeof e&&e.call(a,void 0);a.change()}});for(p=0;p<l.length;p++)v=o.is(n.range,parseFloat(l[p][0].style[c])).toFixed(g),"string"==typeof n.serialization.to[p]?l[p].data("input",a.append('<input type="hidden" name="'+n.serialization.to[p]+'">').find("input:last").val(v).change(function(e){e.stopPropagation()})):!1==n.serialization.to[p]?l[p].data("input",{val:function(e){if("undefined"!=typeof e)this.handle.data("noUiVal",e);else return this.handle.data("noUiVal")},handle:l[p]}):l[p].data("input",n.serialization.to[p].data("handleNR",p).val(v).change(function(){var t=[null,null];t[e(this).data("handleNR")]=e(this).val();a.val(t)}));e(this).data("setup",{settings:n,handles:l,pos:c,res:g})})},val:function(t){if("undefined"!==typeof t){var n="number"==typeof t?[t]:t;return this.each(function(){for(var t=e(this).data("setup"),i=0;i<t.handles.length;i++)if(null!=n[i]){var s=r(o.to(t.settings.range,n[i]),e(this),t.handles[i]);t.handles[i].css(t.pos,s+"%").data("input").val(o.is(t.settings.range,s).toFixed(t.res))}})}t=e(this).data("setup").handles;for(var i=[],s=0;s<t.length;s++)i.push(parseFloat(t[s].data("input").val()));return 1==i.length?i[0]:i},disabled:function(){return n?e(this).addClass("disabled"):e(this).removeClass("disabled")}};var a=jQuery.fn.val;jQuery.fn.val=function(){return this.data("_isnS_")?methods.val.apply(this,arguments):a.apply(this,arguments)};return"disabled"==t?methods.disabled.apply(this):methods.create.apply(this)}})(jQuery);var _hexRegex=/^#([A-Fa-f0-9]{6})$/;var _rgbRegex=/^rgb\(\s*(\d+),\s*(\d+),\s*(\d+)\)$/;var _rgbaRegex=/^rgba\(\s*(\d+),\s*(\d+),\s*(\d+),\s*(\d?\.?\d*)\)$/;(function(e){function t(e,t){o(t);u(t);a(t)}function n(t){var n=e('<div class="buttonRow"></div>');var r=e('<input type="button" class="button" value="&#x00AB;" />');r.click(function(){if(t.state.paletteIndex==0){t.state.paletteIndex=t.settings.simplePalettes.length-1}else{t.state.paletteIndex-=1}a(t)});r.appendTo(n);t.ui.paletteLabel=e('<span class="paletteName"></span>');t.ui.paletteLabel.appendTo(n);var i=e('<input type="button" class="button" value="&#x00BB;" />');i.click(function(){if(t.state.paletteIndex==t.settings.simplePalettes.length-1){t.state.paletteIndex=0}else{t.state.paletteIndex+=1}a(t)});i.appendTo(n);n.appendTo(t.ui.simplePicker)}function r(t){var n=e('<div class="sampleAreas"></div>');for(var r=0;r<t.settings.simplePalettes.length;r++){var i=t.settings.simplePalettes[r];var s=e('<div class="sampleArea"></div>');for(var o=0;o<i.values.length;o++){var u=e('<span class="sample"></span>');u.data("color",i.values[o]);u.css("background-color",i.values[o]);u.click(function(){t.ui.selectedSample=e(this);t.state.selectedColor=StringToObject(e(this).data("color"));a(t)});u.appendTo(s)}s.appendTo(n)}n.appendTo(t.ui.simplePicker)}function i(t){var n=e('<div class="commandRow"></div>');var r=e('<input class="button" type="button" />');r.val(t.settings.translations.apply);r.click(function(e){if(t.settings.applyClick){t.settings.applyClick(e)}});r.appendTo(n);var i=e('<input class="button" type="button" />');i.val(t.settings.translations.cancel);i.click(function(e){if(t.settings.cancelClick){t.settings.cancelClick(e)}});i.appendTo(n);n.appendTo(t.ui.simplePicker)}function s(t){var n=e('<div class="textRow"></div>');t.ui.colorTextBox=n.ColorTextBox({startColor:t.state.selectedColor,valueChanged:function(e){t.state.selectedColor=e;a(t)}});n.appendTo(t.ui.simplePicker)}function o(t){t.ui.simplePicker=e("<div></div>");s(t);r(t);n(t);i(t);t.ui.simplePicker.appendTo(t.ui.mainPanel)}function u(e){}function a(t){var n=t.ui.simplePicker.find(".sampleArea");n.hide();e(n[t.state.paletteIndex]).show();t.ui.paletteLabel.text(t.settings.simplePalettes[t.state.paletteIndex].name);e(".sample.selected").removeClass("selected");e(t.ui.selectedSample).addClass("selected");t.ui.colorTextBox.ColorTextBox("setValue",t.state.selectedColor)}function f(t){return e.extend({startColor:"#FFFFFF",defaultPalette:"websafe",mainPanelCssClass:"",applyClick:null,cancelClick:null,translations:{apply:"Apply",cancel:"Cancel"},simplePalettes:[{name:"Web Safe",values:["rgb(255,255,255)","rgb(255,255,204)","rgb(255,255,153)","rgb(255,255,102)","rgb(255,255,51)","rgb(255,255,0)","rgb(255,204,255)","rgb(255,204,204)","rgb(255,204,153)","rgb(255,204,102)","rgb(255,204,51)","rgb(255,204,0)","rgb(255,153,255)","rgb(255,153,204)","rgb(255,153,153)","rgb(255,153,102)","rgb(255,153,51)","rgb(255,153,0)","rgb(255,102,255)","rgb(255,102,204)","rgb(255,102,153)","rgb(255,102,102)","rgb(255,102,51)","rgb(255,102,0)","rgb(255,51,255)","rgb(255,51,204)","rgb(255,51,153)","rgb(255,51,102)","rgb(255,51,51)","rgb(255,51,0)","rgb(255,0,255)","rgb(255,0,204)","rgb(255,0,153)","rgb(255,0,102)","rgb(255,0,51)","rgb(255,0,0)","rgb(204,255,255)","rgb(204,255,204)","rgb(204,255,153)","rgb(204,255,102)","rgb(204,255,51)","rgb(204,255,0)","rgb(204,204,255)","rgb(204,204,204)","rgb(204,204,153)","rgb(204,204,102)","rgb(204,204,51)","rgb(204,204,0)","rgb(204,153,255)","rgb(204,153,204)","rgb(204,153,153)","rgb(204,153,102)","rgb(204,153,51)","rgb(204,153,0)","rgb(204,102,255)","rgb(204,102,204)","rgb(204,102,153)","rgb(204,102,102)","rgb(204,102,51)","rgb(204,102,0)","rgb(204,51,255)","rgb(204,51,204)","rgb(204,51,153)","rgb(204,51,102)","rgb(204,51,51)","rgb(204,51,0)","rgb(204,0,255)","rgb(204,0,204)","rgb(204,0,153)","rgb(204,0,102)","rgb(204,0,51)","rgb(204,0,0)","rgb(153,255,255)","rgb(153,255,204)","rgb(153,255,153)","rgb(153,255,102)","rgb(153,255,51)","rgb(153,255,0)","rgb(153,204,255)","rgb(153,204,204)","rgb(153,204,153)","rgb(153,204,102)","rgb(153,204,51)","rgb(153,204,0)","rgb(153,153,255)","rgb(153,153,204)","rgb(153,153,153)","rgb(153,153,102)","rgb(153,153,51)","rgb(153,153,0)","rgb(153,102,255)","rgb(153,102,204)","rgb(153,102,153)","rgb(153,102,102)","rgb(153,102,51)","rgb(153,102,0)","rgb(153,51,255)","rgb(153,51,204)","rgb(153,51,153)","rgb(153,51,102)","rgb(153,51,51)","rgb(153,51,0)","rgb(153,0,255)","rgb(153,0,204)","rgb(153,0,153)","rgb(153,0,102)","rgb(153,0,51)","rgb(153,0,0)","rgb(102,255,255)","rgb(102,255,204)","rgb(102,255,153)","rgb(102,255,102)","rgb(102,255,51)","rgb(102,255,0)","rgb(102,204,255)","rgb(102,204,204)","rgb(102,204,153)","rgb(102,204,102)","rgb(102,204,51)","rgb(102,204,0)","rgb(102,153,255)","rgb(102,153,204)","rgb(102,153,153)","rgb(102,153,102)","rgb(102,153,51)","rgb(102,153,0)","rgb(102,102,255)","rgb(102,102,204)","rgb(102,102,153)","rgb(102,102,102)","rgb(102,102,51)","rgb(102,102,0)","rgb(102,51,255)","rgb(102,51,204)","rgb(102,51,153)","rgb(102,51,102)","rgb(102,51,51)","rgb(102,51,0)","rgb(102,0,255)","rgb(102,0,204)","rgb(102,0,153)","rgb(102,0,102)","rgb(102,0,51)","rgb(102,0,0)","rgb(51,255,255)","rgb(51,255,204)","rgb(51,255,153)","rgb(51,255,102)","rgb(51,255,51)","rgb(51,255,0)","rgb(51,204,255)","rgb(51,204,204)","rgb(51,204,153)","rgb(51,204,102)","rgb(51,204,51)","rgb(51,204,0)","rgb(51,153,255)","rgb(51,153,204)","rgb(51,153,153)","rgb(51,153,102)","rgb(51,153,51)","rgb(51,153,0)","rgb(51,102,255)","rgb(51,102,204)","rgb(51,102,153)","rgb(51,102,102)","rgb(51,102,51)","rgb(51,102,0)","rgb(51,51,255)","rgb(51,51,204)","rgb(51,51,153)","rgb(51,51,102)","rgb(51,51,51)","rgb(51,51,0)","rgb(51,0,255)","rgb(51,0,204)","rgb(51,0,153)","rgb(51,0,102)","rgb(51,0,51)","rgb(51,0,0)","rgb(0,255,255)","rgb(0,255,204)","rgb(0,255,153)","rgb(0,255,102)","rgb(0,255,51)","rgb(0,255,0)","rgb(0,204,255)","rgb(0,204,204)","rgb(0,204,153)","rgb(0,204,102)","rgb(0,204,51)","rgb(0,204,0)","rgb(0,153,255)","rgb(0,153,204)","rgb(0,153,153)","rgb(0,153,102)","rgb(0,153,51)","rgb(0,153,0)","rgb(0,102,255)","rgb(0,102,204)","rgb(0,102,153)","rgb(0,102,102)","rgb(0,102,51)","rgb(0,102,0)","rgb(0,51,255)","rgb(0,51,204)","rgb(0,51,153)","rgb(0,51,102)","rgb(0,51,51)","rgb(0,51,0)","rgb(0,0,255)","rgb(0,0,204)","rgb(0,0,153)","rgb(0,0,102)","rgb(0,0,51)","rgb(0,0,0)"]},{name:"not default",values:["#7BDED2","#6F76F7","#A3AF11","#DC35F5","#247C29","#A943F5","#0288C3","#17C956","#1F64F6","#6D9799","#F40022","#F47B12","#F8615C","#CDFD1E","#463767","#5F8C33","#E210F4","#3735E8","#5DA8F8","#6B151E","#063B3F","#AF6EB4","#9B607A","#D8DC14","#D40C0A","#DAC97F","#33B625","#961520","#FA0B1D","#3ADFC7","#354BBF","#C0EC0D","#625B41","#585981","#0FB030","#DA91E0","#8E966A","#137598","#90B77C","#B2C317","#4ABA74","#A217F9","#E4C2B2","#4909B3","#04BC36","#75BC29","#697A2F","#AF89C7","#6A9D8E","#5CC862","#921CC3","#1488A1","#2B8203","#B2A252","#A122B7","#59FD5C","#D5D45B","#58E877","#961A77","#1213C7","#5EE88D","#6002EC","#27D019","#D73FB9","#C24029","#7AC2F8","#E3A95A","#AE5A33","#E026BC","#9D14BC","#F1A254","#986F3D","#241896","#531703","#2E6C7E","#5AFD45","#BEFBEC","#4B879D","#DBC237","#482E5D","#4D631F","#1934D5","#B842F2","#48D830","#789857","#9C83AD","#459118","#675AC5","#EB3EE2","#EC1B2C","#7BCD1D","#BAC0EB","#687ABC","#87FB01","#027785","#457128","#AE7B73","#68E272","#CF07A8","#CA0940","#A6652D","#BA2920","#0FE6CC","#35B4B7","#6A7A69","#CEF1B2","#C8BA34","#105C60","#48695F","#D4B87E","#3903C7","#68BD2A","#66CB16","#8A1AE8","#443255","#B4923B","#2F3192","#04AFCD","#5AD1A5","#CCE8CE","#912172","#038470","#E547A0","#8F9C96","#4B1BD0","#0EEBFE","#E65129","#25F4D8","#8C27F6","#73699F","#9D01D7","#DC08AE","#45369B","#F74847","#F42481","#A00FC3","#0DDBE7","#2D8E60","#C7ACE8","#8AE39E","#59B7C5","#9CD5A7","#6D2323","#8C6AAA","#8E3F13","#95BE05","#295FD6","#FE9B52","#5A60BA","#1D8FBC...4DAFF","#9A0B1E","#48254E","#B360AA","#A3D26D","#51429D","#AE5BA6","#F12DBA","#345DFB","#62D591","#937BD4","#BC05CB","#CCE441","#A61549","#738EEF","#F070D0","#100617","#E9F317","#92EA01","#E59474","#A1AC14","#80EC9D","#0706A6","#2F639F","#8E7D9F","#05F385","#680365","#753276","#95444D","#D0F780","#355D2E","#4236F0","#0DE372","#3DE273","#A65EED","#F62876","#DDC552","#9C272F","#5FDADC","#648212","#CF284C","#A6B753","#23A81E","#B6094B","#C2DC83","#333CA3","#8C8B15","#8A0C42","#1B5CDC","#DD1449","#C79386","#921B54","#934F0B","#905173","#D2D1BA","#DF2BBF","#C0731B","#2B10DC","#F44572","#489F5F","#C7F9AF","#845537","#FA23D9","#A14A1F","#2C14B1","#7E8491","#155C9A","#FFC74A","#737B79","#3B1BF2","#36D303","#87CB8C","#9D9F30","#075AA4","#208807","#311878"]}]},t)}function l(t,n){var r=e(t).data("ClicSimplePicker");if(!r){var i=f(n);e(t).data("ClicSimplePicker",{settings:i,state:{selectedColor:i.startColor,paletteIndex:0,selectedSample:null},ui:{mainPanel:e(t),simplePicker:null,paletteLabel:null,colorTextBox:null}});r=e(t).data("ClicSimplePicker")}return r}var c={getColor:function(e){var t=[];this.each(function(){var e=l(this);t.push(e.state.selectedColor)});return t[0]},init:function(e){return this.each(function(){var n=l(this,e);t(this,n)})}};e.fn.ClicSimplePicker=function(t){if(c[t]){return c[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return c.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on ClicSimplePicker")}}})(jQuery);(function(e){function t(e,t){f(t);setTimeout(function(){l(t)},1)}function n(e){var t=HSLToRGB(e.state.selectedHue,e.state.selectedSaturation,e.state.selectedLightness);if(e.settings.enableOpacity){t.a=e.state.selectedOpacity}else{t.a=1}return t}function r(t){var n=e('<div class="commandRow"></div>');var r=e('<input class="button" type="button" />');r.val(t.settings.translations.apply);r.click(function(e){if(t.settings.applyClick){t.settings.applyClick(e)}});r.appendTo(n);var i=e('<input class="button" type="button" />');i.val(t.settings.translations.cancel);i.click(function(e){if(t.settings.cancelClick){t.settings.cancelClick(e)}});i.appendTo(n);n.appendTo(t.ui.fullPicker)}function i(t){var r=e('<div class="textRow"></div>');t.ui.colorTextBox=r.ColorTextBox({startColor:n(t),enableOpacity:t.settings.enableOpacity,valueChanged:function(e){t.state.selectedOpacity=e.a;var n=RGBToHSL(e);t.state.selectedHue=n.h;t.state.selectedSaturation=n.s;t.state.selectedLightness=n.l;l(t)}});r.appendTo(t.ui.fullPicker)}function s(t){var n=e('<div class="fullArea"></div>');var r=e('<div class="satAndLightnessArea"></div>');for(var i=0;i<100;i++){t.ui.lightnessLines[i]=e('<div class="lightnessLine"/>');t.ui.lightnessLines[i].data("lightness",100-i);t.ui.lightnessLines[i].appendTo(r);t.ui.lightnessLines[i].click(function(){t.state.selectedLightness=e(this).data("lightness")}).mousedown(function(n){t.state.selectedLightness=e(this).data("lightness")}).mousemove(function(n){if(t.state.mouseIsDown){t.state.selectedLightness=e(this).data("lightness")}})}r.click(function(e){o(e,t,r)}).mousedown(function(e){t.state.mouseIsDown=true;o(e,t,r)}).mousemove(function(e){if(t.state.mouseIsDown){o(e,t,r)}});t.ui.crosshair=e('<img src="images/crosshair.png" style="position:relative;" />');t.ui.crosshair.appendTo(r);e(document).mouseup(function(e){t.state.mouseIsDown=false});r.appendTo(n);a(t,n);if(t.settings.enableOpacity){u(t,n)}n.appendTo(t.ui.fullPicker)}function o(e,t,n){var r=n.offset().left;var i=e.pageX-r;var s=n.width();t.state.selectedSaturation=100-i/s*100;l(t);e.preventDefault()}function u(t,n){t.ui.opacitySlider=e('<div class="noUiSlider"></div>').noUiSlider({range:[0,1],start:1,step:.01,handles:1,slide:function(){t.state.selectedOpacity=e(this).val();l(t)}});var r=e("<div></div>");t.ui.opacitySlider.appendTo(r);r.appendTo(n)}function a(t,n){var r=[{percent:0,color:ParseHex("#ff0000")},{percent:17,color:ParseHex("#ffff00")},{percent:33,color:ParseHex("#00ff00")},{percent:50,color:ParseHex("#00ffff")},{percent:67,color:ParseHex("#0000ff")},{percent:83,color:ParseHex("#ff00ff")},{percent:100,color:ParseHex("#ff0000")}];t.ui.hueSlider=e('<div class="noUiSlider"></div>').noUiSlider({range:[0,360],start:t.state.selectedHue,step:1,handles:1,slide:function(){t.state.selectedHue=e(this).val();l(t)}});ApplyGradientBackground(t.ui.hueSlider,90,r);var i=e("<div></div>");t.ui.hueSlider.appendTo(i);i.appendTo(n)}function f(t){t.ui.fullPicker=e("<div></div>");i(t);s(t);r(t);t.ui.fullPicker.appendTo(t.ui.mainPanel)}function l(e){var t=n(e);e.ui.colorTextBox.ColorTextBox("setValue",t);e.ui.hueSlider.val(e.state.selectedHue);if(e.ui.opacitySlider){e.ui.opacitySlider.val(e.state.selectedOpacity);var r=CloneColor(t);var i=CloneColor(t);r.a=1;i.a=0;e.ui.opacitySlider.css("background","linear-gradient(90deg,"+ObjectToRGBAString(i)+","+ObjectToRGBAString(r)+") , url('images/transparent.png') repeat")}var s=6;s+=e.state.selectedLightness*2;e.ui.crosshair.css("top",-s);s=-8;var o=e.ui.crosshair.parent().width();var u=o-e.state.selectedSaturation*(o/100)+s;e.ui.crosshair.css("left",u);var a;var f;var l;var c;for(var h=0;h<e.ui.lightnessLines.length;h++){a=e.ui.lightnessLines[h].data("lightness");f=HSLToRGB(e.state.selectedHue,0,a);l=HSLToRGB(e.state.selectedHue,50,a);c=HSLToRGB(e.state.selectedHue,100,a);var p=[{percent:0,color:c},{percent:50,color:l},{percent:100,color:f}];ApplyGradientBackground(e.ui.lightnessLines[h],90,p)}}function c(t){var n=e.extend({startColor:{r:255,g:255,b:255,a:1},enableOpacity:false,opacity:1,mainPanelCssClass:"",applyClick:null,cancelClick:null,translations:{apply:"Apply",cancel:"Cancel"}},t);if(!n.startColor){n.startColor={r:255,g:255,b:255,a:1}}return n}function h(t,n){var r=e(t).data("ClicFullPicker");if(!r){var i=c(n);var s=RGBToHSL(i.startColor);if(i.startColor.a){i.opacity=i.startColor.a}e(t).data("ClicFullPicker",{settings:i,state:{selectedHue:s.h,selectedSaturation:s.s,selectedLightness:s.l,selectedOpacity:i.opacity,mouseIsDown:false},ui:{mainPanel:e(t),colorTextBox:null,fullPicker:null,lightnessLines:new Array(100),hueSlider:null,crosshair:null}});r=e(t).data("ClicFullPicker")}return r}var p={getColor:function(e){var t=[];this.each(function(){var e=h(this);t.push(n(e))});return t[0]},init:function(e){return this.each(function(){var n=h(this,e);t(this,n)})}};e.fn.ClicFullPicker=function(t){if(p[t]){return p[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return p.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on ClicFullPicker")}}})(jQuery);(function(e){function t(e,t){n(t);o(t)}function n(t){t.ui.gradientSlider=e('<div class="gradSlider"></div>');t.ui.gradientSlider.click(function(n){if(n.target==this){var r=e(this).offset().left;var s=n.pageX;var o=s-r;var u=e(this).parent().width();var a=o/u*100;i(t,a)}});var n=e('<span class="gradSliderHandle" />');n.css("left","5");n.data("colorStopIndex",0);n.appendTo(t.ui.gradientSlider);n.click(function(n){s(t,e(this))});var o=e('<span class="gradSliderHandle" />');o.css("left","230");o.data("colorStopIndex",t.state.colorStops.length-1);o.appendTo(t.ui.gradientSlider);o.click(function(n){s(t,e(this))});if(t.state.colorStops.length>2){for(var u=1;u<t.state.colorStops.length-1;u++){r(t.state.colorStops[u],t)}}t.ui.gradientSlider.appendTo(t.ui.parent)}function r(t,n){var r=e('<span class="gradSliderHandle" />');r.css("left",t.percent+"%");n.state.colorStops.push(t);r.data("colorStopIndex",n.state.colorStops.length-1);r.appendTo(n.ui.gradientSlider);r.click(function(t){if(e(this).hasClass("noclick")){e(this).removeClass("noclick")}else{s(n,e(this))}});r.draggable({axis:"x",containment:"parent",start:function(){e(this).addClass("noclick")},drag:function(r){var i=e(this).offset().left-e(this).width();var s=e(this).parent().width();var u=i/s*100;t.percent=u;o(n)}})}function i(e,t){e.settings.requestingColor(function(n){var i={percent:t,color:n};r(i,e);o(e)})}function s(e,t){if(e.settings.requestingColor){var n=t.data("colorStopIndex");e.settings.requestingColor(function(t){e.state.colorStops[n].color=t;o(e)},e.state.colorStops[n].color)}}function o(e){ApplyGradientBackground(e.ui.gradientSlider,90,e.state.colorStops)}function u(t){return e.extend({requestingColor:null,startColorStops:[{percent:0,color:{r:0,g:0,b:0,a:1}},{percent:100,color:{r:255,g:255,b:255,a:1}}]},t)}function a(t,n){var r=e(t).data("ClicGradientSlider");if(!r){var i=u(n);e(t).data("ClicGradientSlider",{settings:i,state:{colorStops:i.startColorStops},ui:{parent:e(t),gradientSlider:null}});r=e(t).data("ClicGradientSlider")}return r}var f={getValue:function(e){var t=[];this.each(function(){var n=a(this,e);t.push(n.state.colorStops)});return t[0]},init:function(e){return this.each(function(){var n=a(this,e);t(this,n)})}};e.fn.ClicGradientSlider=function(t){if(f[t]){return f[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return f.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on ClicGradientSlider")}}})(jQuery);(function(e){function t(e,t){u(t);a(t)}function n(t){var n=e('<div class="commandRow"></div>');var r=e('<input class="button" type="button" />');r.val(t.settings.translations.apply);r.click(function(e){if(t.settings.applyClick){t.settings.applyClick(e)}});r.appendTo(n);var i=e('<input class="button" type="button" />');i.val(t.settings.translations.cancel);i.click(function(e){if(t.settings.cancelClick){t.settings.cancelClick(e)}});i.appendTo(n);n.appendTo(t.ui.gradientPicker)}function r(t){t.ui.gradientSlider=e("<div></div>").ClicGradientSlider({requestingColor:function(e,n){i(e,t,n)}});t.ui.gradientSlider.appendTo(t.ui.gradientPicker)}function i(t,n,r){var i=e("<div />").ClicFullPicker({enableOpacity:n.settings.enableOpacity,startColor:r,applyClick:function(e){var r=i.ClicFullPicker("getColor");t(r);i.hide();n.ui.gradientPicker.show()},cancelClick:function(){i.hide();n.ui.gradientPicker.show()}});n.ui.gradientPicker.hide();i.appendTo(n.ui.mainPanel)}function s(){var e="";var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var n=0;n<5;n++){e+=t.charAt(Math.floor(Math.random()*t.length))}return e}function o(t){var n=s();var r=e('<div class="gradForm"></div>');var i=e('<div class="row"></div>');var o=e("<label>Type</label>");t.ui.radField=e('<input id="'+n+'" name="radlin" type="radio"><label for="'+n+'">Radial</label></input>');t.ui.radField.click(function(){if(e(this).is(":checked")){t.state.radial=true;a(t)}});n=s();t.ui.linField=e('<input id="'+n+'"  name="radlin" checked="checked" type="radio"><label for="'+n+'">Linear</label></input>');t.ui.linField.click(function(){if(e(this).is(":checked")){t.state.radial=false;a(t)}});o.appendTo(i);t.ui.radField.appendTo(i);t.ui.linField.appendTo(i);i.appendTo(r);t.ui.angleRow=e('<div class="row"></div>');var u=e("<label>Angle</label>");t.ui.anglePicker=e("<div />").anglepicker({clockwise:false,change:function(n,r){e("#val").text(r.value);t.state.linearAngle=(r.value+90)%360},value:0});u.appendTo(t.ui.angleRow);t.ui.anglePicker.appendTo(t.ui.angleRow);t.ui.angleRow.appendTo(r);var f=e('<div class="row"></div>');var l=e("<label>Presets</label>");var c=e("<b></b>");l.appendTo(f);c.appendTo(f);f.appendTo(r);r.appendTo(t.ui.gradientPicker)}function u(t){t.ui.gradientPicker=e("<div></div>");r(t);o(t);n(t);t.ui.gradientPicker.appendTo(t.ui.mainPanel)}function a(e){if(e.state.radial){e.ui.angleRow.hide()}else{e.ui.angleRow.show()}}function f(t){return e.extend({enableOpacity:false,applyClick:null,cancelClick:null,translations:{apply:"Apply",cancel:"Cancel"}},t)}function l(t,n){var r=e(t).data("ClicGradientPicker");if(!r){var i=f(n);e(t).data("ClicGradientPicker",{settings:i,state:{radial:false,linearAngle:null},ui:{mainPanel:e(t),gradientPicker:null,gradientSlider:null,linField:null,radField:null,anglePicker:null,angleRow:null}});r=e(t).data("ClicGradientPicker")}return r}var c={getValue:function(e){var t=[];this.each(function(){var n=l(this,e);var r={isRadial:n.state.radial,linearAngle:n.state.radial?undefined:n.state.linearAngle,colorStops:n.ui.gradientSlider.ClicGradientSlider("getValue")};t.push(r)});return t[0]},init:function(e){return this.each(function(){var n=l(this,e);t(this,n)})}};e.fn.ClicGradientPicker=function(t){if(c[t]){return c[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return c.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on ClicGradientPicker")}}})(jQuery);(function(e){function n(e,t){r(e,t);i(t);o(t);a(t)}function r(t,n){n.ui.opener=e("<span class='unselectable opener'></span>");n.ui.opener.addClass(n.settings.openerCssClass);n.ui.previewArea=e("<span class='smallPreview'></span>");n.ui.previewArea.appendTo(n.ui.opener);n.ui.arrowArea=e("<span class='arrowArea'>&#x25BC;</span>");n.ui.arrowArea.appendTo(n.ui.opener);n.ui.opener.appendTo(e(t).parent());e(t).hide()}function i(t){t.ui.mainPanel=e('<div class="mainPanel"></div>');t.ui.mainPanel.addClass(t.settings.mainPanelCssClass);t.ui.mainPanel.appendTo(e("body"));t.ui.mainPanel.hide();if(t.settings.type=="gradient"){t.ui.mainPanel.ClicGradientPicker({enableOpacity:t.settings.enableOpacity,applyClick:function(){var e=t.ui.mainPanel.ClicGradientPicker("getValue");s(t,e)},cancelClick:function(){t.state.mainPanelVisible=false;a(t)}})}else if(t.settings.type=="simple"){t.ui.mainPanel.ClicSimplePicker({startColor:t.state.selectedColor,applyClick:function(){var e=t.ui.mainPanel.ClicSimplePicker("getColor");s(t,e)},cancelClick:function(){t.state.mainPanelVisible=false;a(t)}})}else if(t.settings.type=="full"){t.ui.mainPanel.ClicFullPicker({startColor:t.state.selectedColor,enableOpacity:t.settings.enableOpacity,applyClick:function(){var e=t.ui.mainPanel.ClicFullPicker("getColor");s(t,e)},cancelClick:function(){t.state.mainPanelVisible=false;a(t)}})}}function s(e,t){e.state.mainPanelVisible=false;if(e.settings.type=="gradient"){e.state.selectedGradient=t}else{e.state.selectedColor=t}if(e.settings.onChanged){var n={oldValue:e.state.oldValue,newValue:t};e.settings.onChanged(n);e.state.oldValue=t}a(e)}function o(t){e("body").click(function(){t.state.mainPanelVisible=false;a(t)});t.ui.opener.click(function(e){u(e,t)});t.ui.mainPanel.click(function(e){e.stopPropagation()})}function u(e,n){for(var r=0;r<t.length;r++){if(t[r]!=n){t[r].state.mainPanelVisible=false;a(t[r])}}n.state.mainPanelVisible=!n.state.mainPanelVisible;a(n);e.stopPropagation()}function a(e){if(e.state.mainPanelVisible){f(e);e.ui.mainPanel.fadeIn("fast");e.ui.arrowArea.html("&#x25B2;")}else{e.ui.mainPanel.fadeOut("fast");e.ui.arrowArea.html("&#x25BC;")}if(e.settings.type=="gradient"&&e.state.selectedGradient){ApplyGradientBackground(e.ui.previewArea,e.state.selectedGradient.linearAngle,e.state.selectedGradient.colorStops,e.state.selectedGradient.isRadial)}else{e.ui.previewArea.css("background-color",ObjectToRGBAString(e.state.selectedColor))}}function f(e){var t=e.ui.opener.offset();var n=t.top+e.ui.opener.outerHeight();var r=t.width+e.ui.opener.outerWidth();e.ui.mainPanel.css("top",n);e.ui.mainPanel.css("left",r)}var t=[];var l={init:function(r){var i=e.extend({startColor:"#FFFFFF",type:"simple",enableOpacity:false,defaultPalette:"websafe",openerCssClass:"",mainPanelCssClass:"",onChanged:null},r);return this.each(function(){var r=e(this).data("ClicColorPicker");if(!r){e(this).data("ClicColorPicker",{settings:i,state:{mainPanelVisible:false,selectedColor:StringToObject(i.startColor),oldValue:StringToObject(i.startColor),simplePaletteIndex:0,selectedGradient:null},ui:{opener:null,previewArea:null,arrowArea:null,mainPanel:null,simplePicker:null,fullPicker:null,gradientPicker:null}});r=e(this).data("ClicColorPicker");t.push(r);n(this,r)}})}};e.fn.ClicColorPicker=function(t){if(l[t]){return l[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return l.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on ClicColorPicker")}}})(jQuery);(function(e){function t(e,t){n(t);i(t)}function n(t){var n=e("<div class='colorTBParent'></div>");var i=e('<span class="colorTBBackground"></span>');i.appendTo(n);t.ui.previewArea=e('<span class="colorTBPreview"></span>');t.ui.previewArea.appendTo(n);t.ui.textBox=e('<input type="text" class="colorTBInput" />');t.ui.textBox.blur(function(e){r(t)});t.ui.textBox.keyup(function(t){if(t.which==9||t.which==13){e(this).blur();t.preventDefault()}});t.ui.textBox.appendTo(n);n.appendTo(t.ui.container)}function r(e){var t=e.ui.textBox.val();if(isColor(t)){e.state.selectedColor=StringToObject(t);i(e);e.ui.textBox.removeClass("invalid");if(e.settings.valueChanged){e.settings.valueChanged(e.state.selectedColor)}}else{e.ui.textBox.addClass("invalid")}}function i(e){var t;if(e.settings.enableOpacity){t=ObjectToRGBAString(e.state.selectedColor)}else{t=ObjectToRGBString(e.state.selectedColor)}e.ui.previewArea.css("background",t);e.ui.textBox.val(t)}function s(t){return e.extend({startColor:StringToObject("#FFFFFF"),enableOpacity:false,valueChanged:null},t)}function o(t,n){var r=e(t).data("ColorTextBox");if(!r){var i=s(n);e(t).data("ColorTextBox",{settings:i,state:{selectedColor:i.startColor,selectedOpacity:null},ui:{container:e(t),previewArea:null,textBox:null}});r=e(t).data("ColorTextBox")}return r}var u={setValue:function(e){return this.each(function(){var t=o(this);if(e===e.toString()){t.state.selectedColor=StringToObject(e)}else{t.state.selectedColor=e}i(t)})},init:function(e){return this.each(function(){var n=o(this,e);t(this,n)})}};e.fn.ColorTextBox=function(t){if(u[t]){return u[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return u.init.apply(this,arguments)}else{e.error("Method "+t+" does not exist on ColorTextBox")}}})(jQuery)